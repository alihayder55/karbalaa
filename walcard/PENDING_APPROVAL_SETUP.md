# ุฏููู ูุธุงู ุงูุชุธุงุฑ ุงูููุงููุฉ - ูููุงุฑุฏ

## ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงูุฐูู ููุชุธุฑูู ุงูููุงููุฉ ุนูู ุญุณุงุจุงุชูู.

## ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุตูุญุฉ ุงูุชุธุงุฑ ุงูููุงููุฉ** (`pending-approval.tsx`)
- ุชุตููู ุฌุฐุงุจ ูุนุฑุถ ุญุงูุฉ ุงูุทูุจ
- ูุนูููุงุช ููุตูุฉ ุนู ููุช ุงููุฑุงุฌุนุฉ ุงููุชููุน
- ุนุฑุถ ูุชุทูุจุงุช ุงูููุงููุฉ ููู ููุน ูุณุชุฎุฏู
- ุฒุฑ ุชูุงุตู ูุน ุงูุฏุนู ูุน ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ

### 2. **ูุญุต ุชููุงุฆู ููููุงููุฉ**
- ูุญุต ุฏูุฑู ูู ุฏูููุฉ ููุชุญูู ูู ุงูููุงููุฉ
- ูุญุต ููุฑู ุนูุฏ ุงูุนูุฏุฉ ููุชุทุจูู
- ุฅุดุนุงุฑ ุชููุงุฆู ุนูุฏ ุงูููุงููุฉ
- ุงูุชูุงู ูุจุงุดุฑ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ุนูุฏ ุงูููุงููุฉ

### 3. **ุชูุงุตู ูุน ุงูุฏุนู**
- ุฑูู ุฏุนู ูุฎุตุต: `+9647810277890`
- ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ููุชูุงุตู:
  - ููุงููุฉ ูุงุชููุฉ ูุจุงุดุฑุฉ
  - ุฑุณุงูุฉ ูุงุชุณุงุจ ูุน ูุต ุฌุงูุฒ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุฅุฐุง ูู ููู ุงูุชุทุจูู ูุชุงุญ

## ุชุฏูู ุงูุนูู ุงููุญุฏุซ

### ูููุณุชุฎุฏููู ุงูุฌุฏุฏ:
```
ุชุณุฌูู โ OTP โ ุงุฎุชูุงุฑ ููุน โ ููุก ุงูุจูุงูุงุช โ 
ุตูุญุฉ ุงูุชุธุงุฑ ุงูููุงููุฉ โ ูุญุต ุฏูุฑู โ ููุงููุฉ โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

### ูููุณุชุฎุฏููู ุบูุฑ ุงูููุนููู:
```
ุชุณุฌูู ุฏุฎูู โ ูุญุต ุงูุญุงูุฉ โ 
ุตูุญุฉ ุงูุชุธุงุฑ ุงูููุงููุฉ โ ูุญุต ุฏูุฑู โ ููุงููุฉ โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

## ุงูุชุญุฏูุซุงุช ุนูู ุงููููุงุช

### 1. `unified-auth.tsx`
```tsx
// ุจุฏูุงู ูู ุนุฑุถ ุฑุณุงูุฉ Alert
if (!accountInfo.is_approved) {
  router.replace({
    pathname: '/auth/pending-approval',
    params: { 
      userType: accountInfo.user_type,
      fullName: accountInfo.full_name
    }
  });
}
```

### 2. `merchant-registration.tsx` ู `store-owner-registration.tsx`
```tsx
// ุจุฏูุงู ูู ุงูุฐูุงุจ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุจุงุดุฑุฉ
router.replace({
  pathname: '/auth/pending-approval',
  params: { 
    userType: 'merchant', // ุฃู 'store_owner'
    fullName: name as string
  }
});
```

### 3. `pending-approval.tsx` - ุงูููู ุงูุฌุฏูุฏ
- ูุญุต ุฏูุฑู ููููุงููุฉ
- ูุงุฌูุฉ ุฌุฐุงุจุฉ ูุน timeline
- ูุนูููุงุช ูููุฏุฉ ูููุณุชุฎุฏู
- ุชูุงูู ูุน ูุธุงู ุงูุฏุนู

## ูููุฒุงุช ุตูุญุฉ ุงูุชุธุงุฑ ุงูููุงููุฉ

### 1. **ุนุฑุถ ุงูุญุงูุฉ ุงูุจุตุฑู**
- Timeline ููุถุญ ูุฑุงุญู ุงูุทูุจ:
  - โ ุชู ุฅุฑุณุงู ุงูุทูุจ
  - ๐ ููุฏ ุงููุฑุงุฌุนุฉ (ุงูุญุงูุฉ ุงูุญุงููุฉ)
  - โณ ุงูููุงููุฉ (ูู ุงูุงูุชุธุงุฑ)

### 2. **ูุนูููุงุช ูููุฏุฉ**
- ููุช ุงููุฑุงุฌุนุฉ ุงููุชููุน: 24-48 ุณุงุนุฉ
- ูุชุทูุจุงุช ุงูููุงููุฉ ุญุณุจ ููุน ุงููุณุชุฎุฏู
- ุฃููููุงุช ููููุฉ ุญุณุจ ููุน ุงูุญุณุงุจ

### 3. **ุฎูุงุฑุงุช ุงูุชูุงุตู**
```tsx
const SUPPORT_PHONE = '+9647810277890';

// ููุงููุฉ ูุจุงุดุฑุฉ
Linking.openURL(`tel:${SUPPORT_PHONE}`);

// ูุงุชุณุงุจ ูุน ูุต ุฌุงูุฒ
const whatsappUrl = `whatsapp://send?phone=${SUPPORT_PHONE.replace('+', '')}&text=ูุฑุญุจุงูุ ุฃุญุชุงุฌ ูุณุงุนุฏุฉ ุจุฎุตูุต ุทูุจ ุงูุชุณุฌูู ูู ูููุงุฑุฏ`;
```

### 4. **ุฅุฏุงุฑุฉ ุงูุฌูุณุฉ**
- ุฒุฑ ุชุณุฌูู ุฎุฑูุฌ ูุน ุชุฃููุฏ
- ุงูุนูุฏุฉ ูุดุงุดุฉ ุงูุชุณุฌูู ุงูููุญุฏุฉ

## ุงููุญุต ุงูุชููุงุฆู ููููุงููุฉ

### ุขููุฉ ุงูุนูู:
```tsx
// ูุญุต ูู ุฏูููุฉ
setInterval(checkApprovalStatus, 60000);

// ูุญุต ุนูุฏ ุงูุนูุฏุฉ ููุชุทุจูู
AppState.addEventListener('change', handleAppStateChange);

// ูุญุต ููุฑู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
useEffect(() => {
  checkApprovalStatus();
}, []);
```

### ุทุฑููุฉ ุงููุญุต:
```tsx
const checkApprovalStatus = async () => {
  const { data: { user } } = await supabase.auth.getUser();
  
  // ููุชุฌุงุฑ
  const { data } = await supabase
    .from('merchants')
    .select('is_approved')
    .eq('user_id', user.id)
    .single();
    
  if (data?.is_approved) {
    // ุฅุดุนุงุฑ + ุงูุชูุงู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
  }
};
```

## ุฑุณุงุฆู ุงูุฏุนู ุงููุจุฑูุฌุฉ

### ุฑุณุงูุฉ ูุงุชุณุงุจ:
```
ูุฑุญุจุงูุ ุฃุญุชุงุฌ ูุณุงุนุฏุฉ ุจุฎุตูุต ุทูุจ ุงูุชุณุฌูู ูู ูููุงุฑุฏ
```

### ุฎูุงุฑุงุช ุงูุชูุงุตู:
1. **ููุงููุฉ ูุจุงุดุฑุฉ**: ุชูุชุญ ุชุทุจูู ุงููุงุชู
2. **ูุงุชุณุงุจ**: ุชูุชุญ ูุงุชุณุงุจ ูุน ุฑุณุงูุฉ ุฌุงูุฒุฉ
3. **ุฅูุบุงุก**: ุฅุบูุงู ุงููุงูุฐุฉ

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 1. ูุงุชุณุงุจ ุบูุฑ ูุซุจุช:
```tsx
.catch(() => {
  Alert.alert('ุฎุทุฃ', 'ุชุทุจูู ูุงุชุณุงุจ ุบูุฑ ูุซุจุช ุนูู ุงูุฌูุงุฒ');
});
```

### 2. ูุดู ูุญุต ุงูููุงููุฉ:
```tsx
catch (error) {
  console.error('Error checking approval status:', error);
  // ูุญุต ุตุงูุช - ูุง ูุฒุนุฌ ุงููุณุชุฎุฏู
}
```

## ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### 1. **ูููุทูุฑูู**
- ุชุฃูุฏ ูู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจู `supabase-setup-unified.sql`
- ุงุฎุชุจุฑ ุฌููุน ุญุงูุงุช ุงูููุงููุฉ
- ุชุญูู ูู ุนูู ุฑูุงุจุท ุงูุชูุงุตู

### 2. **ููุฅุฏุงุฑุฉ**
- ุฑุงูุจ ุทูุจุงุช ุงูุชุณุฌูู ุจุงูุชุธุงู
- ุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุช ุงูุฏุนู ุณุฑูุนุงู
- ุญุฏุซ ุญุงูุฉ `is_approved` ุจุนุฏ ุงููุฑุงุฌุนุฉ

### 3. **ูููุณุชุฎุฏููู**
- ุงูุชุธุฑ 24-48 ุณุงุนุฉ ูุจู ุงูุชูุงุตู
- ุงุณุชุฎุฏู ุฃุฑูุงู ุงูุฏุนู ููุงุณุชูุณุงุฑุงุช ุงูุนุงุฌูุฉ
- ุชุฃูุฏ ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

### 1. **ุฅุดุนุงุฑุงุช ููุฑูุฉ**
- ุงุณุชุฎุฏุงู Firebase ููุฅุดุนุงุฑุงุช ุงูููุฑูุฉ
- ุฅุดุนุงุฑ ููุฑู ุนูุฏ ุงูููุงููุฉ ุฃู ุงูุฑูุถ

### 2. **ุชุชุจุน ุฃูุถู**
- ุฑูู ูุฑุฌุนู ููู ุทูุจ
- ุชุงุฑูุฎ ูููุช ุงูุฅุฑุณุงู
- ุณุจุจ ุงูุฑูุถ ุฅู ูุฌุฏ

### 3. **ุฏุนู ูุญุณู**
- ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ ูู ุงูุชุทุจูู
- ูุงุนุฏุฉ ุฃุณุฆูุฉ ุดุงุฆุนุฉ
- ูุธุงู ุชุฐุงูุฑ ุฏุนู

## ุงูุงุฎุชุจุงุฑ

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ:
1. **ูุณุชุฎุฏู ุฌุฏูุฏ**: ุชุณุฌูู โ ุงูุชุธุงุฑ โ ููุงููุฉ
2. **ูุณุชุฎุฏู ุนุงุฆุฏ**: ุฏุฎูู โ ูุญุต ุญุงูุฉ โ ุงูุชุธุงุฑ/ููุงููุฉ
3. **ุชูุงุตู ุฏุนู**: ุฌุฑุจ ุฌููุน ุฎูุงุฑุงุช ุงูุชูุงุตู
4. **ูุญุต ุฏูุฑู**: ุงูุชุธุฑ ุฏูููุฉ ูุชุฃูุฏ ูู ุงููุญุต
5. **ุนูุฏุฉ ููุชุทุจูู**: ุงุฎุฑุฌ ูุงุฏุฎู ูุชุฃูุฏ ูู ุงููุญุต ุงูููุฑู

ุงููุธุงู ุงูุฌุฏูุฏ ูููุฑ ุชุฌุฑุจุฉ ุณูุณุฉ ูููููุฉ ูููุณุชุฎุฏููู ุฃุซูุงุก ุงูุชุธุงุฑ ุงูููุงููุฉ! ๐ 